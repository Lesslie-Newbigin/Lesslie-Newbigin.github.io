const addCertBtn=document.getElementById("addCertBtn");const uploadModal=document.getElementById("uploadModal");const closeModal=document.querySelector(".close");const certUploadForm=document.getElementById("certUploadForm");const certList=document.getElementById("certList");addCertBtn.addEventListener("click",()=>{uploadModal.style.display="block"});closeModal.addEventListener("click",()=>{uploadModal.style.display="none"});window.addEventListener("click",e=>{if(e.target===uploadModal){uploadModal.style.display="none"}});certUploadForm.addEventListener("submit",function(e){e.preventDefault();const title=document.getElementById("certTitle").value;const fileInput=document.getElementById("certFile");const file=fileInput.files[0];if(!file){alert("Please select a file.");return}const reader=new FileReader();reader.onload=function(e){const certDiv=document.createElement("div");certDiv.classList.add("cert-item");certDiv.setAttribute("data-category",detectCategory(title));const downloadLink=document.createElement("a");downloadLink.href=e.target.result;downloadLink.download=file.name;downloadLink.textContent="Download";downloadLink.style.display="inline-block";downloadLink.style.marginTop="10px";downloadLink.style.color="red";let contentElement;if(file.type==="application/pdf"){contentElement=document.createElement("iframe");contentElement.src=e.target.result}else if(file.type.startsWith("image/")){contentElement=document.createElement("img");contentElement.src=e.target.result}else{alert("Unsupported file type.");return}const titleEl=document.createElement("h3");titleEl.textContent=title;certDiv.appendChild(titleEl);certDiv.appendChild(contentElement);certDiv.appendChild(downloadLink);certList.appendChild(certDiv);certUploadForm.reset();uploadModal.style.display="none"};reader.readAsDataURL(file)});function filterCerts(category){const items=document.querySelectorAll(".cert-item");items.forEach(item=>{if(category==="all"||item.getAttribute("data-category")===category){item.style.display="block"}else{item.style.display="none"}})}function detectCategory(title){title=title